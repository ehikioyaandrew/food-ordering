<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Header -->
  <div
    class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"
  >
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-6">
        <div class="flex items-center">
          <button
            (click)="goBack()"
            class="mr-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
          >
            <svg
              class="w-6 h-6 text-gray-600 dark:text-gray-300"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              ></path>
            </svg>
          </button>
          <div>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
              Restaurant Settings
            </h1>
            <p class="text-gray-600 dark:text-gray-300">
              Manage your restaurant profile, payments, and preferences
            </p>
          </div>
        </div>
        <div class="flex gap-2">
          <button
            (click)="exportSettings()"
            class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"
          >
            Export Settings
          </button>
          <button
            (click)="resetToDefaults()"
            class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"
          >
            Reset to Defaults
          </button>
        </div>
      </div>

      <!-- Tab Navigation -->
      <div class="border-b border-gray-200 dark:border-gray-700">
        <nav class="-mb-px flex space-x-8">
          <button
            (click)="setActiveTab('profile')"
            [class]="
              activeTab === 'profile'
                ? 'border-food-orange text-food-orange'
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'
            "
            class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          >
            Restaurant Profile
          </button>
          <button
            (click)="setActiveTab('payment')"
            [class]="
              activeTab === 'payment'
                ? 'border-food-orange text-food-orange'
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'
            "
            class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          >
            Payment Settings
          </button>
          <button
            (click)="setActiveTab('notifications')"
            [class]="
              activeTab === 'notifications'
                ? 'border-food-orange text-food-orange'
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'
            "
            class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          >
            Notifications
          </button>
          <button
            (click)="setActiveTab('security')"
            [class]="
              activeTab === 'security'
                ? 'border-food-orange text-food-orange'
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'
            "
            class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          >
            Security
          </button>
          <button
            (click)="setActiveTab('integrations')"
            [class]="
              activeTab === 'integrations'
                ? 'border-food-orange text-food-orange'
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'
            "
            class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          >
            Integrations
          </button>
        </nav>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Restaurant Profile Tab -->
    <div *ngIf="activeTab === 'profile'" class="space-y-6">
      <!-- Basic Information -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Basic Information
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Restaurant Name</label
            >
            <input
              [(ngModel)]="restaurantProfile.name"
              type="text"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Cuisine Type</label
            >
            <select
              [(ngModel)]="restaurantProfile.cuisine"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            >
              <option *ngFor="let cuisine of cuisineTypes" [value]="cuisine">
                {{ cuisine }}
              </option>
            </select>
          </div>
          <div class="md:col-span-2">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Description</label
            >
            <textarea
              [(ngModel)]="restaurantProfile.description"
              rows="3"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            ></textarea>
          </div>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Contact Information
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Email</label
            >
            <input
              [(ngModel)]="restaurantProfile.email"
              type="email"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Phone</label
            >
            <input
              [(ngModel)]="restaurantProfile.phone"
              type="tel"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div class="md:col-span-2">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Website (Optional)</label
            >
            <input
              [(ngModel)]="restaurantProfile.website"
              type="url"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
        </div>
      </div>

      <!-- Address Information -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Address Information
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="md:col-span-2">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Street Address</label
            >
            <input
              [(ngModel)]="restaurantProfile.address.street"
              type="text"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >City</label
            >
            <input
              [(ngModel)]="restaurantProfile.address.city"
              type="text"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >State</label
            >
            <select
              [(ngModel)]="restaurantProfile.address.state"
              (change)="onStateChange($event)"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            >
              <option *ngFor="let state of nigerianStates" [value]="state">
                {{ state }}
              </option>
            </select>
          </div>
        </div>
      </div>

      <!-- Restaurant Images -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Restaurant Images
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Logo Upload -->
          <div class="space-y-4">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300"
            >
              Restaurant Logo
            </label>
            <div class="flex flex-col items-center space-y-4">
              <!-- Logo Preview -->
              <div
                class="w-32 h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center bg-gray-50 dark:bg-gray-700"
              >
                <img
                  *ngIf="restaurantProfile.logo"
                  [src]="restaurantProfile.logo"
                  class="w-full h-full object-cover rounded-lg"
                  alt="Restaurant Logo"
                />
                <div *ngIf="!restaurantProfile.logo" class="text-center">
                  <svg
                    class="w-8 h-8 text-gray-400 mx-auto mb-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    ></path>
                  </svg>
                  <p class="text-sm text-gray-500 dark:text-gray-400">
                    Logo Image
                  </p>
                </div>
              </div>
              <!-- Logo Upload Button -->
              <div class="relative">
                <input
                  type="file"
                  (change)="onFileSelected($event, 'logo')"
                  accept="image/*"
                  id="logo-upload"
                  class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                />
                <label
                  for="logo-upload"
                  class="inline-flex items-center px-4 py-2 bg-food-orange text-white text-sm font-medium rounded-lg hover:bg-orange-600 cursor-pointer transition-colors"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 7H16a4 4 0 011 7.745M9 12l2 2 4-4"
                    ></path>
                  </svg>
                  Choose Logo
                </label>
              </div>
              <p class="text-xs text-gray-500 dark:text-gray-400 text-center">
                Recommended: 400x400px, PNG or JPG
              </p>
            </div>
          </div>

          <!-- Cover Image Upload -->
          <div class="space-y-4">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300"
            >
              Cover Image
            </label>
            <div class="flex flex-col items-center space-y-4">
              <!-- Cover Preview -->
              <div
                class="w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center bg-gray-50 dark:bg-gray-700"
              >
                <img
                  *ngIf="restaurantProfile.coverImage"
                  [src]="restaurantProfile.coverImage"
                  class="w-full h-full object-cover rounded-lg"
                  alt="Restaurant Cover"
                />
                <div *ngIf="!restaurantProfile.coverImage" class="text-center">
                  <svg
                    class="w-8 h-8 text-gray-400 mx-auto mb-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    ></path>
                  </svg>
                  <p class="text-sm text-gray-500 dark:text-gray-400">
                    Cover Image
                  </p>
                </div>
              </div>
              <!-- Cover Upload Button -->
              <div class="relative">
                <input
                  type="file"
                  (change)="onFileSelected($event, 'cover')"
                  accept="image/*"
                  id="cover-upload"
                  class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                />
                <label
                  for="cover-upload"
                  class="inline-flex items-center px-4 py-2 bg-food-orange text-white text-sm font-medium rounded-lg hover:bg-orange-600 cursor-pointer transition-colors"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 7H16a4 4 0 011 7.745M9 12l2 2 4-4"
                    ></path>
                  </svg>
                  Choose Cover
                </label>
              </div>
              <p class="text-xs text-gray-500 dark:text-gray-400 text-center">
                Recommended: 800x400px, PNG or JPG
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Save Button -->
      <div class="flex justify-end">
        <button
          (click)="saveProfile()"
          [disabled]="isLoading"
          class="px-6 py-2 bg-food-orange text-white font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          <span *ngIf="isLoading">Saving...</span>
          <span *ngIf="!isLoading">Save Changes</span>
        </button>
      </div>
    </div>

    <!-- Payment Settings Tab -->
    <div *ngIf="activeTab === 'payment'" class="space-y-6">
      <!-- Nigerian Payment Providers -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          🇳🇬 Nigerian Payment Providers
        </h3>
        <div class="space-y-4">
          <!-- Paystack -->
          <div
            class="flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg"
          >
            <div class="flex items-center space-x-3">
              <div
                class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">PS</span>
              </div>
              <div>
                <h4 class="font-medium text-gray-900 dark:text-white">
                  Paystack
                </h4>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                  Leading Nigerian payment gateway - 1.5% fee
                </p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <label class="toggle-switch">
                <input
                  type="checkbox"
                  [(ngModel)]="nigerianPaymentProviders.paystack.enabled"
                />
                <span class="toggle-slider"></span>
              </label>
              <button
                *ngIf="nigerianPaymentProviders.paystack.enabled"
                (click)="openApiKeyModal('paystack')"
                class="text-sm text-food-orange hover:text-orange-600"
              >
                Configure
              </button>
            </div>
          </div>

          <!-- Flutterwave -->
          <div
            class="flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg"
          >
            <div class="flex items-center space-x-3">
              <div
                class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">FW</span>
              </div>
              <div>
                <h4 class="font-medium text-gray-900 dark:text-white">
                  Flutterwave
                </h4>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                  African payment infrastructure - 1.4% fee
                </p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <label class="toggle-switch">
                <input
                  type="checkbox"
                  [(ngModel)]="nigerianPaymentProviders.flutterwave.enabled"
                />
                <span class="toggle-slider"></span>
              </label>
              <button
                *ngIf="nigerianPaymentProviders.flutterwave.enabled"
                (click)="openApiKeyModal('flutterwave')"
                class="text-sm text-food-orange hover:text-orange-600"
              >
                Configure
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Payment Methods -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Accepted Payment Methods
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="space-y-3">
            <label class="flex items-center">
              <input
                type="checkbox"
                [(ngModel)]="paymentSettings.cashOnDelivery"
                class="rounded text-food-orange focus:ring-food-orange"
              />
              <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >💸 Cash on Delivery</span
              >
            </label>
            <label class="flex items-center">
              <input
                type="checkbox"
                [(ngModel)]="paymentSettings.bankTransfer"
                class="rounded text-food-orange focus:ring-food-orange"
              />
              <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >🏦 Bank Transfer</span
              >
            </label>
          </div>
          <div class="space-y-3">
            <label class="flex items-center">
              <input
                type="checkbox"
                [value]="'visa'"
                [checked]="paymentSettings.acceptedCards.includes('visa')"
                class="rounded text-food-orange focus:ring-food-orange"
              />
              <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >💳 Visa</span
              >
            </label>
            <label class="flex items-center">
              <input
                type="checkbox"
                [value]="'mastercard'"
                [checked]="paymentSettings.acceptedCards.includes('mastercard')"
                class="rounded text-food-orange focus:ring-food-orange"
              />
              <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >💳 Mastercard</span
              >
            </label>
            <label class="flex items-center">
              <input
                type="checkbox"
                [value]="'verve'"
                [checked]="paymentSettings.acceptedCards.includes('verve')"
                class="rounded text-food-orange focus:ring-food-orange"
              />
              <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >💳 Verve (Nigerian)</span
              >
            </label>
          </div>
        </div>
      </div>

      <!-- Processing Settings -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          Processing Settings
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Processing Fee (%)</label
            >
            <input
              [(ngModel)]="paymentSettings.paymentProcessing.processingFee"
              type="number"
              step="0.1"
              min="0"
              max="10"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
          </div>
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Currency</label
            >
            <select
              [(ngModel)]="paymentSettings.paymentProcessing.currency"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            >
              <option *ngFor="let currency of currencies" [value]="currency">
                {{ currency }}
              </option>
            </select>
          </div>
          <div class="md:col-span-2">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >Refund Policy</label
            >
            <textarea
              [(ngModel)]="paymentSettings.paymentProcessing.refundPolicy"
              rows="3"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
            ></textarea>
          </div>
        </div>
      </div>

      <div class="flex justify-end">
        <button
          (click)="savePaymentSettings()"
          [disabled]="isLoading"
          class="px-6 py-2 bg-food-orange text-white font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          <span *ngIf="isLoading">Saving...</span>
          <span *ngIf="!isLoading">Save Payment Settings</span>
        </button>
      </div>
    </div>

    <!-- Notifications Tab -->
    <div *ngIf="activeTab === 'notifications'" class="space-y-6">
      <!-- Order Notifications -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          🔔 Order Notifications
        </h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                New Orders
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Get notified immediately when new orders are placed
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="notifications.orderNotifications.newOrder"
              />
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Order Cancellations
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Get notified when customers cancel orders
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="notifications.orderNotifications.orderCancelled"
              />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <!-- Notification Methods -->
          <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
            <h5 class="font-medium text-gray-900 dark:text-white mb-3">
              📱 How would you like to be notified?
            </h5>
            <div class="flex space-x-6">
              <label class="flex items-center">
                <input
                  type="checkbox"
                  [(ngModel)]="notifications.orderNotifications.email"
                  class="rounded text-food-orange focus:ring-food-orange"
                />
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                  >📧 Email</span
                >
              </label>
              <label class="flex items-center">
                <input
                  type="checkbox"
                  [(ngModel)]="notifications.orderNotifications.sms"
                  class="rounded text-food-orange focus:ring-food-orange"
                />
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                  >📱 SMS</span
                >
              </label>
              <label class="flex items-center">
                <input
                  type="checkbox"
                  [(ngModel)]="notifications.orderNotifications.push"
                  class="rounded text-food-orange focus:ring-food-orange"
                />
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                  >🔔 Push Notification</span
                >
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Business Reports -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          📊 Business Reports
        </h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Weekly Reports
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Get weekly sales summary every Monday
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="notifications.businessNotifications.weeklyReport"
              />
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Monthly Reports
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Get detailed monthly business analysis
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="notifications.businessNotifications.monthlyReport"
              />
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Low Inventory Alerts
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Get notified when menu items are running low
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="notifications.businessNotifications.lowInventory"
              />
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="flex justify-end">
        <button
          (click)="saveNotifications()"
          [disabled]="isLoading"
          class="px-6 py-2 bg-food-orange text-white font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          <span *ngIf="isLoading">Saving...</span>
          <span *ngIf="!isLoading">Save Notification Settings</span>
        </button>
      </div>
    </div>

    <!-- Security Tab -->
    <div *ngIf="activeTab === 'security'" class="space-y-6">
      <!-- Account Security -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          🔐 Account Security
        </h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Two-Factor Authentication
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Add extra security with SMS verification
              </p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="security.twoFactorAuth" />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >Session Timeout (minutes)</label
              >
              <input
                [(ngModel)]="security.sessionTimeout"
                type="number"
                min="15"
                max="480"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
              />
              <p class="text-xs text-gray-500 mt-1">
                How long before automatic logout (15-480 minutes)
              </p>
            </div>
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >Minimum Password Length</label
              >
              <input
                [(ngModel)]="security.passwordRequirements.minLength"
                type="number"
                min="6"
                max="20"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
              />
              <p class="text-xs text-gray-500 mt-1">
                Minimum characters required for passwords
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- API Access -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          🔌 API Access
        </h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between py-3">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Enable API Access
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Allow third-party apps to integrate with your restaurant
              </p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="security.apiAccess.enabled" />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div *ngIf="security.apiAccess.enabled" class="space-y-4">
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >🔑 API Key</label
              >
              <div class="flex space-x-2">
                <input
                  [value]="
                    security.apiAccess.apiKey ||
                    'Click Generate to create API key'
                  "
                  readonly
                  class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white"
                />
                <button
                  (click)="generateApiKey()"
                  class="px-4 py-2 bg-food-orange text-white rounded-lg hover:bg-orange-600 transition-colors"
                >
                  Generate New Key
                </button>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                ⚠️ Keep this key secure - it provides access to your restaurant
                data
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flex justify-end">
        <button
          (click)="saveSecurity()"
          [disabled]="isLoading"
          class="px-6 py-2 bg-food-orange text-white font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          <span *ngIf="isLoading">Saving...</span>
          <span *ngIf="!isLoading">Save Security Settings</span>
        </button>
      </div>
    </div>

    <!-- Integrations Tab -->
    <div *ngIf="activeTab === 'integrations'" class="space-y-6">
      <!-- RestaurantPOS Integration -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="text-lg font-medium text-gray-900 dark:text-white">
              🏪 RestaurantPOS Integration
            </h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              Your existing Point of Sale system is connected and syncing
            </p>
          </div>
          <div class="flex items-center space-x-3">
            <span class="text-sm font-medium">{{ getPOSStatusBadge() }}</span>
            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
          </div>
        </div>

        <!-- POS Status Overview -->
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center">
            <div class="text-2xl mb-1">{{ getSyncStatusIcon("orders") }}</div>
            <div class="text-xs font-medium text-gray-900 dark:text-white">
              Orders
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400">Synced</div>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center">
            <div class="text-2xl mb-1">
              {{ getSyncStatusIcon("inventory") }}
            </div>
            <div class="text-xs font-medium text-gray-900 dark:text-white">
              Inventory
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400">Synced</div>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center">
            <div class="text-2xl mb-1">{{ getSyncStatusIcon("menu") }}</div>
            <div class="text-xs font-medium text-gray-900 dark:text-white">
              Menu
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400">Synced</div>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center">
            <div class="text-2xl mb-1">{{ getSyncStatusIcon("users") }}</div>
            <div class="text-xs font-medium text-gray-900 dark:text-white">
              Users
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400">Synced</div>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center">
            <div class="text-2xl mb-1">{{ getSyncStatusIcon("payments") }}</div>
            <div class="text-xs font-medium text-gray-900 dark:text-white">
              Payments
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400">Synced</div>
          </div>
        </div>

        <!-- POS Information -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="space-y-3">
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Version:</span
              >
              <span class="text-sm font-medium">{{
                restaurantPOSSettings.version
              }}</span>
            </div>
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Last Sync:</span
              >
              <span class="text-sm font-medium">{{ getLastSyncTime() }}</span>
            </div>
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Sync Interval:</span
              >
              <span class="text-sm font-medium"
                >{{ restaurantPOSSettings.syncInterval }}s</span
              >
            </div>
          </div>
          <div class="space-y-3">
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Active Cashiers:</span
              >
              <span class="text-sm font-medium">{{
                getCashierCountDisplay()
              }}</span>
            </div>
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Tax Rate:</span
              >
              <span class="text-sm font-medium"
                >{{ restaurantPOSSettings.settings.taxRate }}%</span
              >
            </div>
            <div class="flex justify-between">
              <span class="text-sm text-gray-600 dark:text-gray-300"
                >Auto Sync:</span
              >
              <span class="text-sm font-medium">{{
                getAutoSyncStatusDisplay()
              }}</span>
            </div>
          </div>
        </div>

        <!-- POS Management Actions -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <button
            (click)="syncWithPOS()"
            [disabled]="isLoading"
            class="flex items-center justify-center px-3 py-2 bg-food-orange text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors"
          >
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"
              />
            </svg>
            <span *ngIf="!isLoading">Sync Now</span>
            <span *ngIf="isLoading">Syncing...</span>
          </button>

          <button
            (click)="testPOSConnection()"
            [disabled]="isLoading"
            class="flex items-center justify-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors"
          >
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
              />
            </svg>
            Test Connection
          </button>

          <button
            (click)="viewPOSLogs()"
            class="flex items-center justify-center px-3 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors"
          >
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"
              />
            </svg>
            View Logs
          </button>

          <button
            (click)="managePOSUsers()"
            class="flex items-center justify-center px-3 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors"
          >
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.5 2.5 0 0017.5 7h-3A2.5 2.5 0 0012.04 8.37L9.5 16H12v6h8z"
              />
            </svg>
            Manage Users
          </button>
        </div>

        <!-- Advanced POS Settings -->
        <div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-600">
          <h4 class="font-medium text-gray-900 dark:text-white mb-4">
            ⚙️ Advanced Settings
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="space-y-4">
              <label class="flex items-center justify-between">
                <span class="text-sm text-gray-700 dark:text-gray-300"
                  >Auto Sync</span
                >
                <label class="toggle-switch">
                  <input
                    type="checkbox"
                    [(ngModel)]="restaurantPOSSettings.settings.autoSync"
                    (change)="updatePOSSettings()"
                  />
                  <span class="toggle-slider"></span>
                </label>
              </label>
              <label class="flex items-center justify-between">
                <span class="text-sm text-gray-700 dark:text-gray-300"
                  >Print Receipts</span
                >
                <label class="toggle-switch">
                  <input
                    type="checkbox"
                    [(ngModel)]="restaurantPOSSettings.settings.printReceipts"
                    (change)="updatePOSSettings()"
                  />
                  <span class="toggle-slider"></span>
                </label>
              </label>
              <label class="flex items-center justify-between">
                <span class="text-sm text-gray-700 dark:text-gray-300"
                  >Require Cashier Login</span
                >
                <label class="toggle-switch">
                  <input
                    type="checkbox"
                    [(ngModel)]="
                      restaurantPOSSettings.settings.requireCashierLogin
                    "
                    (change)="updatePOSSettings()"
                  />
                  <span class="toggle-slider"></span>
                </label>
              </label>
            </div>
            <div class="space-y-4">
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >
                  Tax Rate (%)
                </label>
                <input
                  [(ngModel)]="restaurantPOSSettings.settings.taxRate"
                  type="number"
                  step="0.1"
                  min="0"
                  max="25"
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
                  (change)="updatePOSSettings()"
                />
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >
                  Sync Interval (seconds)
                </label>
                <input
                  [(ngModel)]="restaurantPOSSettings.syncInterval"
                  type="number"
                  min="10"
                  max="300"
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
                />
              </div>
            </div>
          </div>

          <!-- Emergency Actions -->
          <div class="mt-6 flex flex-wrap gap-3">
            <button
              (click)="restartPOSSync()"
              [disabled]="isLoading"
              class="px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 disabled:opacity-50 transition-colors"
            >
              🔄 Restart Sync Service
            </button>
            <button
              (click)="exportPOSData()"
              class="px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors"
            >
              📊 Export POS Data
            </button>
          </div>
        </div>
      </div>

      <!-- Traditional POS Integration (for comparison/migration) -->
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">
          🔌 Traditional POS System Integration
        </h3>
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">
          Configure additional POS providers if needed (your RestaurantPOS is
          already active above)
        </p>

        <div class="space-y-4">
          <div class="flex items-center justify-between py-3 opacity-50">
            <div>
              <h4 class="font-medium text-gray-900 dark:text-white">
                Enable Alternative POS Integration
              </h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                For backup or migration purposes only
              </p>
            </div>
            <label class="toggle-switch">
              <input
                type="checkbox"
                [(ngModel)]="integrations.pos.enabled"
                disabled
              />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 opacity-50">
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >Alternative POS Provider</label
              >
              <select
                [(ngModel)]="integrations.pos.provider"
                disabled
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-food-orange focus:border-transparent dark:bg-gray-700 dark:text-white"
              >
                <option
                  *ngFor="let provider of posProviders"
                  [value]="provider"
                >
                  {{ provider }}
                </option>
              </select>
            </div>
            <div class="flex items-center space-x-4 pt-6">
              <label class="flex items-center">
                <input
                  type="checkbox"
                  [(ngModel)]="integrations.pos.syncInventory"
                  disabled
                  class="rounded text-food-orange focus:ring-food-orange"
                />
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                  >📦 Sync Inventory</span
                >
              </label>
              <label class="flex items-center">
                <input
                  type="checkbox"
                  [(ngModel)]="integrations.pos.syncOrders"
                  disabled
                  class="rounded text-food-orange focus:ring-food-orange"
                />
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                  >📋 Sync Orders</span
                >
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="flex justify-end">
        <button
          (click)="saveIntegrations()"
          [disabled]="isLoading"
          class="px-6 py-2 bg-food-orange text-white font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          <span *ngIf="isLoading">Saving...</span>
          <span *ngIf="!isLoading">Save Integration Settings</span>
        </button>
      </div>
    </div>

    <!-- Other tabs content will be added separately -->
    <div
      *ngIf="activeTab !== 'profile'"
      class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center"
    >
      <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">
        {{ activeTab | titlecase }} Settings
      </h3>
      <p class="text-gray-600 dark:text-gray-400">
        This section is being implemented...
      </p>
    </div>
  </div>
</div>
